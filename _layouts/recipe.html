---
layout: default
---

<script>
  window.RECIPE_DATA = {
    id: "{{ page.url | relative_url }}",
    title: {{ page.title | jsonify }},
    baseServings: {{ page.servings | default: 1 }},
    ingredients: {{ page.ingredients | jsonify }}
  };
</script>

<div class="section">
  <div class="card cardPad">
    <div class="recipeHeader">
      <div class="h1" style="margin:0">{{ page.title }}</div>

      {% if page.image %}
        <div class="recipeHero">
          <img
            class="recipeHeroImg"
            src="{{ page.image | relative_url }}"
            alt="{{ page.title | escape }}"
            loading="lazy"
            decoding="async"
            style="width:100%;max-height:240px;object-fit:cover;display:block;"
          >
        </div>
      {% endif %}

      <div class="kvRow">
        {% if page.category %}<span class="kv">ğŸ· {{ page.category }}</span>{% endif %}
        {% if page.time %}<span class="kv">â± {{ page.time }}</span>{% endif %}
        {% if page.servings %}<span class="kv">ğŸ½ {{ page.servings }}</span>{% endif %}
        {% if page.date %}<span class="kv">ğŸ“… {{ page.date | date: "%d.%m.%Y" }}</span>{% endif %}
      </div>

      {% if page.tags %}
      <div class="chips">
        {% for t in page.tags %}
          <span class="chip">{{ t }}</span>
        {% endfor %}
      </div>
      {% endif %}
    </div>

    <div class="hr"></div>

    <div class="dim" id="statsLine"></div>

    <div class="hr"></div>

    <div class="card cardPad recipeInnerCard" style="box-shadow:none;border:1px solid rgba(15,23,42,.10)">
      <div class="searchRow" style="padding:0">
        <div style="flex:1">
          <div class="sub" style="margin-bottom:8px">Portionen</div>
          <div class="portionStepper" aria-label="Portionen anpassen">
            <button id="servMinus" class="stepBtn" type="button" aria-label="Portionen minus">âˆ’</button>
            <div id="servVal" class="stepVal">1</div>
            <button id="servPlus" class="stepBtn" type="button" aria-label="Portionen plus">+</button>
          </div>
          <input id="servingsInput" inputmode="numeric" style="position:absolute;left:-9999px;width:1px;height:1px;opacity:0" />
          <div class="dim" style="margin-top:8px">Basis: <span id="baseServings"></span></div>
        </div>
      </div>

      <div class="hr"></div>

      <div class="h2" style="margin:0 0 8px 0">Zutaten</div>
      <div id="ingredientsList"></div>
    </div>

    <div class="hr"></div>

    <div class="recipeBody">
      {{ content }}
    </div>

    <div class="hr"></div>

    <div class="footerRow">
      <a class="btn btnSecondary" href="{{ '/rezeptindex/' | relative_url }}" style="text-decoration:none;display:inline-flex;align-items:center;justify-content:center;flex:1">Alle Rezepte</a>
      <a class="btn btnSecondary" href="{{ '/shopping/' | relative_url }}" style="text-decoration:none;display:inline-flex;align-items:center;justify-content:center;flex:1">Shopping List</a>
    </div>
  </div>
</div>

<!-- Sticky Bottom Action Bar -->
<div class="recipeBar" id="recipeBar">
  <div class="recipeBarInner">
    <button class="rbarBtn" id="cookedBtn" type="button">
      <span class="rbarIcon"><svg class="iconSvg" viewBox="0 0 24 24" aria-hidden="true"><path d="M9.2 16.6 4.9 12.3a1 1 0 0 1 1.4-1.4l2.9 2.9 8.5-8.5a1 1 0 1 1 1.4 1.4l-9.9 9.9z"/></svg></span><span class="rbarTxt">Gekocht</span>
    </button>

    <button class="rbarBtn" id="favoriteBtn" type="button">
      <span class="rbarIcon"><svg class="iconSvg" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 17.3 6.8 20l1-5.9L3.6 9.9l6-0.9L12 3.6l2.4 5.4 6 .9-4.2 4.2 1 5.9L12 17.3zm0-2.3 3.2 1.7-.6-3.6 2.6-2.6-3.6-.5L12 6.7 10.4 10l-3.6.5 2.6 2.6-.6 3.6L12 15z"/></svg></span><span class="rbarTxt">Favorit</span>
    </button>

    <button class="rbarBtn rbarPrimary" id="addToShopping" type="button">
      <span class="rbarIcon"><svg class="iconSvg" viewBox="0 0 24 24" aria-hidden="true"><path d="M6.5 6h14l-1.3 7.2a2 2 0 0 1-2 1.6H9a2 2 0 0 1-2-1.6L5.3 4H3V2h3.1a1 1 0 0 1 1 .8L7.3 6zM9 18a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm10 2a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8.9 12.8h8.2l.9-4.8H8l.9 4.8z"/></svg></span><span class="rbarTxt">Zur Liste</span>
    </button>

    <button class="rbarBtn" id="freezerBtn" type="button">
      <span class="rbarIcon"><svg class="iconSvg" viewBox="0 0 24 24" aria-hidden="true"><path d="M11 2h2v4.1l2.9-1.7 1 1.7-2.9 1.7 2.9 1.7-1 1.7L13 9.9V13l3.5-2 1 1.7-3.5 2 3.5 2-1 1.7-3.5-2V22h-2v-4.1l-2.9 1.7-1-1.7 2.9-1.7-2.9-1.7 1-1.7L11 14.1V11l-3.5 2-1-1.7 3.5-2-3.5-2 1-1.7 3.5 2V2z"/></svg></span><span class="rbarTxt">KÃ¼hltruhe</span>
    </button>

    <button class="rbarBtn" id="recipeMoreBtn" type="button">
      <span class="rbarIcon"><svg class="iconSvg" viewBox="0 0 24 24" aria-hidden="true"><path d="M5 10.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm7 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm7 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3z"/></svg></span><span class="rbarTxt">Mehr</span>
    </button>
  </div>
</div>

<!-- Recipe More Sheet -->
<div class="sheetOverlay" id="recipeSheetOverlay"></div>
<section class="sheet" id="recipeSheet" aria-label="Rezept-MenÃ¼" aria-hidden="true">
  <div class="sheetGrab"></div>
  <div class="sheetHead">
    <div class="sheetTitle">Rezept</div>
    <button class="navIconBtn" id="recipeSheetClose" aria-label="SchlieÃŸen" type="button">âœ•</button>
  </div>

  <div class="sheetBody">
    <button class="sheetRow" id="undoCookedBtn" type="button">â†©ï¸ Undo â€Gekochtâ€œ</button>
    <button class="sheetRow" id="printBtn" type="button">ğŸ–¨ Drucken</button>
  </div>
</section>

<script defer src="{{ '/assets/recipe.js?v=20260220_5' | relative_url }}"></script>

<script>
(function(){
  // Recipe sheet
  const moreBtn = document.getElementById('recipeMoreBtn');
  const overlay = document.getElementById('recipeSheetOverlay');
  const sheet = document.getElementById('recipeSheet');
  const closeBtn = document.getElementById('recipeSheetClose');
  const printBtn = document.getElementById('printBtn');

  function openSheet(){ overlay.classList.add('open'); sheet.classList.add('open'); sheet.setAttribute('aria-hidden','false'); }
  function closeSheet(){ overlay.classList.remove('open'); sheet.classList.remove('open'); sheet.setAttribute('aria-hidden','true'); }

  moreBtn?.addEventListener('click', openSheet);
  overlay?.addEventListener('click', closeSheet);
  closeBtn?.addEventListener('click', closeSheet);
  printBtn?.addEventListener('click', ()=>window.print());

  // Hide recipe bar on non-recipe pages (safety, if layout reused)
  // (On this layout it always exists, so no-op)
})();
</script>
