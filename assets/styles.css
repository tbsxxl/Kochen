/* assets/styles.css (vollständig, inklusive iPhone-Nav + capped images) */
:root{
  --bg:#f6f7f9; --card:#fff; --muted:#eef1f5; --muted2:#dfe4ea;
  --text:#0f172a; --sub:#475569; --sub2:#64748b;
  --action:#937972;
  --danger:#ef4444;

  --sh1:0 1px 2px rgba(0,0,0,.06);
  --sh2:0 12px 28px rgba(0,0,0,.10);

  --rSheet:24px;
  --rCard:16px;
  --rBtn:14px;

  --fsBody:16px;
  --fsSecondary:13.5px;
  --wTitle:650;
  --wBody:560;
  --wSecondary:520;

  --accent:#1e88e5;

  --barAlpha:.92;

  --tabbarH: 86px;
  --recipeBarH: 86px;

  /* image caps */
  --heroMaxH: 240px;
  --thumbMaxH: 170px;
}

*{-webkit-tap-highlight-color:transparent}
html,body{height:100%}


/* Globaler Hintergrund-Verlauf: immer vollflächig, unabhängig von Wrapper-Höhe */
body::before{
  content:"";
  position:fixed;
  inset:0;
  z-index:-1;
  pointer-events:none;
  background: linear-gradient(180deg, #eaf1ff 0%, #e6f5f0 100%);
}
body{
  font-family: system-ui, -apple-system, Arial;
  margin:0;
  padding:0;
  background: transparent;
  color:var(--text);
  font-variant-numeric: tabular-nums;
  min-height: 100dvh;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
  font-size: var(--fsBody);
  scroll-padding-bottom: calc(var(--tabbarH) + var(--recipeBarH) + 16px + env(safe-area-inset-bottom));
  overscroll-behavior-y: contain;
}
body.noScroll{overflow:hidden;}
button,input,textarea{touch-action:manipulation}
a{color:inherit}
@media (prefers-reduced-motion: reduce){
  *{animation:none!important;transition:none!important;scroll-behavior:auto!important}
}

.container{
  max-width:860px;
  margin:0 auto;
  padding-left: calc(14px + env(safe-area-inset-left));
  padding-right: calc(14px + env(safe-area-inset-right));
}
.section{margin-top:12px}

.card{
  background:var(--card);
  border-radius: var(--rCard);
  box-shadow: var(--sh1), 0 10px 25px rgba(0,0,0,.06);
  border:1px solid rgba(15,23,42,.08);
}
.cardPad{padding:12px}

.h1{margin:10px 0 12px 0;font-size:24px;font-weight:650;letter-spacing:.2px}
.h2{margin:0 0 8px 0;font-size:16px;font-weight:var(--wTitle)}
.p{margin:0;color:var(--sub);font-weight:var(--wBody);line-height:1.55}
.sub{color:var(--sub);font-weight:var(--wBody);font-size:var(--fsSecondary)}
.dim{color:var(--sub2);font-weight:var(--wSecondary);font-size:var(--fsSecondary)}
.hr{height:1px;background:rgba(15,23,42,.12);margin:12px 0}

.searchRow{display:flex;gap:8px;align-items:center;padding:10px 12px}
.searchRow.searchRowCompact input{height:44px;padding:10px 12px}
.searchRow.searchRowCompact .btn{min-height:44px;min-width:44px;padding:0 12px}
.searchRow.searchRowCompact .btn.btnGhost{width:44px;justify-content:center}
.searchRow input{
  flex:1;padding:12px 12px;border-radius:var(--rBtn);border:1px solid #d7dbe4;
  font-weight:var(--wBody);outline:none;background:#fff
}

.grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
@media (max-width:640px){ .grid{grid-template-columns:1fr;} }

/* Home 2.0 (iPhone-first, same design system) */
.homeSectionHead{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:0 2px;margin-bottom:10px}

/* App-Store style headings (Light) */
.homeBigTitle{
  margin: 6px 0 12px 0;
  padding: 0 2px;
  font-size: 34px;
  font-weight: 780;
  letter-spacing: -0.02em;
  line-height: 1.06;
}
.homeSectionTitle{
  margin: 0;
  padding: 0 2px;
  font-size: 22px;
  font-weight: 760;
  letter-spacing: -0.01em;
  line-height: 1.12;
}

/* Favorites: bigger cards in horizontal scroller */
.hScroll{scroll-snap-type:x mandatory}
.hCard.homeFavCard{flex:0 0 86%;}
@media (min-width: 720px){
  .hCard.homeFavCard{flex:0 0 46%;}
}
.homeFavThumb .thumbImg{
  width:100%;
  max-height: 190px;
  object-fit: cover;
  display:block;
}
.btn.ghost{background:rgba(255,255,255,.55);border:1px solid rgba(15,23,42,.10);color:var(--text);box-shadow:none}
.btn.btnGhost{background:rgba(255,255,255,.55);border:1px solid rgba(15,23,42,.10);color:var(--text);box-shadow:none}
.btn.btnDangerOutline{background:rgba(239,68,68,.08);border:1px solid rgba(239,68,68,.28);color:rgba(239,68,68,.95);box-shadow:none}
.btn.btnDangerOutline:active{background:rgba(239,68,68,.12)}

.hScroll{display:flex;gap:12px;overflow-x:auto;padding:6px 2px 20px 2px;scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch}
.hScroll .recipeCard{box-shadow: 0 10px 24px rgba(15,23,42,.10)}
.hScroll::-webkit-scrollbar{display:none}
.hCard{flex:0 0 80%;scroll-snap-align:start}

.stack{display:flex;flex-direction:column;gap:12px}
.freezerRow{position:relative;display:flex;align-items:center;justify-content:space-between;gap:12px}
.freezerRight{display:flex;align-items:center;gap:8px}
.freezerBadge{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:999px;background:rgba(34,197,94,.12);border:1px solid rgba(34,197,94,.20);font-weight:700}

.footerRow{display:flex;gap:8px;flex-wrap:wrap}
.btn{
  border:none;border-radius:var(--rBtn);padding:14px 12px;font-weight:var(--wTitle);
  cursor:pointer;min-height:52px;background:var(--muted);
  box-shadow:inset 0 0 0 1px rgba(15,23,42,.10);
}
.btn:active{transform:scale(.99)}
.btn.blue{background:var(--accent);color:#fff;box-shadow:0 12px 28px rgba(30,136,229,.16)}
.btn.green{background:#22c55e;color:#fff;box-shadow:0 12px 28px rgba(34,197,94,.18)}
.btn.red{background:var(--danger);color:#fff;box-shadow:0 12px 28px rgba(239,68,68,.16)}

.badge{
  background:var(--muted);border-radius:999px;padding:6px 10px;font-weight:var(--wBody);
  font-size:var(--fsSecondary);letter-spacing:.2px;white-space:nowrap
}
.badge.action{background:var(--action);color:#fff}

.chips{display:flex;flex-wrap:wrap;gap:8px}
.chipsCompact{gap:8px;margin-top:10px}
.chip{
  background:#fff;border:1px solid #e2e6ee;border-radius:999px;
  padding:8px 10px;font-weight:var(--wBody);cursor:pointer;user-select:none;font-size:14px
}
.chipMore{opacity:.8}
.chip:active{transform:scale(.98)}

.linkCard{text-decoration:none;display:block}
.cardHover{transition:transform .12s ease}
.cardHover:active{transform:scale(.99)}

.recipeCard{position:relative;padding:12px;display:flex;flex-direction:column;gap:10px}
.recipeTop{
  display:flex;
  align-items:center;
  gap:10px;
}

.recipeTopLeft{
  flex:1;
  min-width:0;
}
.recipeTitle{font-weight:var(--wTitle);font-size:16px;margin:0;letter-spacing:.2px}
.recipeMeta{display:flex;gap:8px;flex-wrap:wrap;color:var(--sub2);font-size:var(--fsSecondary);font-weight:var(--wSecondary)}

.recipeHeader{display:flex;flex-direction:column;gap:10px}
.kvRow{display:flex;gap:8px;flex-wrap:wrap}
.kv{background:var(--muted);border-radius:999px;padding:6px 10px;font-weight:var(--wBody);font-size:var(--fsSecondary)}
.kvFav{background:rgba(245,158,11,.14);border:1px solid rgba(245,158,11,.28);box-shadow:none;font-weight:var(--wTitle)}

.recipeBody h2{margin:16px 0 8px 0;font-size:16px;font-weight:var(--wTitle)}
.recipeBody p,.recipeBody li{color:var(--text);line-height:1.65;font-weight:var(--wBody)}
.recipeBody ul{padding-left:20px}

/* Recipe steps (ordered list) as readable cards */
.recipeBody ol{list-style:none;padding-left:0;margin:12px 0;counter-reset:step}
.recipeBody ol > li{counter-increment:step;position:relative;margin:10px 0;padding:12px 12px 12px 46px;
  background: rgba(255,255,255,.78);
  border: 1px solid rgba(15,23,42,.10);
  border-radius: 16px;
}
.recipeBody ol > li::before{content: counter(step); position:absolute; left:12px; top:12px;
  width:24px; height:24px; border-radius:999px;
  background: rgba(15,23,42,.06);
  display:flex; align-items:center; justify-content:center;
  font-weight: 800; font-size: 13px; color: rgba(15,23,42,.80);
}
.recipeBody ol > li > p{margin:0}

/* Ingredients */
.ingRow{
  display:flex;align-items:center;justify-content:space-between;gap:10px;
  padding:14px 12px;min-height:44px;border-radius:var(--rBtn);border:1px solid rgba(15,23,42,.10);
  background:#fff;margin:8px 0
}
.ingLeft{min-width:0}
.ingName{font-weight:var(--wBody);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.ingQty{font-weight:var(--wTitle);color:var(--text);white-space:nowrap}

/* Ingredients as grouped list */
.listGroup .ingRow{
  border:0;
  border-radius:0;
  margin:0;
  background:transparent;
}
.listGroup .ingRow + .ingRow{ border-top: 1px solid rgba(15,23,42,.08); }

/* Images (capped) */
.thumb{
  border-radius:14px;overflow:hidden;border:1px solid rgba(15,23,42,.10);background:var(--muted)
}
.thumbImg{
  width:100%;
  height: var(--thumbMaxH);
  max-height: var(--thumbMaxH);
  object-fit:cover;
  display:block
}
.recipeHero{
  border-radius:16px;overflow:hidden;border:1px solid rgba(15,23,42,.10);background:var(--muted)
}
.recipeHeroImg{
  width:100%;
  height: var(--heroMaxH);
  max-height: var(--heroMaxH);
  object-fit:cover;
  display:block
}
@media (max-width:640px){
  :root{ --heroMaxH: 220px; --thumbMaxH: 170px; }
}

/* iPhone Topbar */
.iosTopbar{
  position: sticky; top:0; z-index:1200;
  background: rgba(246,247,249,var(--barAlpha));
  backdrop-filter: blur(14px);
  border-bottom: 1px solid rgba(15,23,42,.08);
  padding: calc(8px + env(safe-area-inset-top)) 0 10px 0;
}
.iosTopbar.scrolled{
  background: rgba(246,247,249,.97);
  border-bottom-color: rgba(15,23,42,.12);
  backdrop-filter: blur(18px);
}
.iosTopbarInner{display:flex;align-items:center;gap:10px}
.navIconBtn{
  border:none;background:var(--muted);border-radius:14px;min-width:44px;min-height:44px;
  padding:0 12px;font-weight:var(--wTitle);box-shadow:inset 0 0 0 1px rgba(15,23,42,.10);cursor:pointer
}
.navIconBtn:active{transform:scale(.99)}
.iosTopTitleWrap{flex:1;min-width:0}
.iosTopTitle{font-weight:650;font-size:17px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.iosTopSub{display:none}

/* Main padding for fixed tabbar */
.appMain{
  padding-top: 12px;
  padding-bottom: calc(var(--tabbarH) + env(safe-area-inset-bottom));
}

/* Recipe pages: tabbar is hidden; reserve space for the recipe action bar instead */
.layout-recipe .appMain{
  padding-bottom: calc(var(--recipeBarH) + env(safe-area-inset-bottom) + 16px);
}

/* Shared bottom rail (Tabbar + Recipe Actionbar) */
.bottomRail{
  position: fixed; left:0; right:0; bottom:0;
  background: rgba(246,247,249,var(--barAlpha));
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border-top: 1px solid rgba(15,23,42,.10);
  padding: 8px 0 calc(8px + env(safe-area-inset-bottom)) 0;
  min-height: calc(var(--tabbarH) + env(safe-area-inset-bottom));
  box-sizing: border-box;
}

/* Recipe action bar should match the main tabbar height exactly */
.recipeTabbar.bottomRail{ min-height: calc(var(--recipeBarH) + env(safe-area-inset-bottom)); }

/* Bottom Tabbar */
.tabbar{ z-index:1300; }
.tabbarInner{display:grid;grid-template-columns:repeat(4,1fr);gap:6px;align-items:center}
.tabItem{
  text-decoration:none;color:var(--sub2);background:transparent;border:none;
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  border-radius:14px;min-height:54px;padding:8px 6px;cursor:pointer
}
.tabItem:active{background:rgba(15,23,42,.05);transform:scale(.98)}
.tabIcon{font-size:18px;line-height:1}
.tabLabel{margin-top:6px;font-size:11.5px;font-weight:var(--wSecondary);letter-spacing:.2px}
.tabItem.active{color:var(--text);background:var(--muted);box-shadow:inset 0 0 0 1px rgba(15,23,42,.08)}

/* Bottom Sheet */
.sheetOverlay{
  position: fixed; inset:0; background: rgba(0,0,0,.30);
  opacity:0; pointer-events:none; transition: opacity .18s ease; z-index:2000
}
.sheetOverlay.open{opacity:1;pointer-events:auto}
.sheet{
  position: fixed; left:0; right:0; bottom:0;
  transform: translateY(110%);
  transition: transform .22s cubic-bezier(.2,.8,.2,1);
  z-index:2100;
  background: rgba(255,255,255,.90);
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
  border-top-left-radius:22px;border-top-right-radius:22px;
  border:1px solid rgba(15,23,42,.12);border-bottom:none;
  padding-bottom: calc(10px + env(safe-area-inset-bottom));
  height: 62vh;
  max-height: 92vh;
}
.sheet.full{ height: 92vh; }
.sheet.half{ height: 62vh; }
.sheet.open{transform:translateY(0)}
.sheetGrab{width:54px;height:5px;border-radius:999px;background:rgba(15,23,42,.18);margin:10px auto 6px auto}
.sheetHead{display:flex;align-items:center;justify-content:space-between;gap:10px;padding:0 14px 10px 14px;border-bottom:1px solid rgba(15,23,42,.10)}
.sheetTitle{font-weight:var(--wTitle);font-size:16px}
.sheetBody{padding:10px 14px 0 14px}
.sheetRow{
  width:100%;display:block;text-decoration:none;text-align:left;background:#fff;
  border:1px solid rgba(15,23,42,.10);border-radius:14px;padding:14px 12px;
  font-weight:var(--wBody);margin:8px 0;cursor:pointer
}
.sheetRow:active{background:rgba(15,23,42,.04)}
.sheetRow.blue{background:rgba(30,136,229,.10);border-color:rgba(30,136,229,.22)}
.sheetRow.green{background:rgba(34,197,94,.10);border-color:rgba(34,197,94,.22)}
.saved{animation:savedFlash .55s ease}
@keyframes savedFlash{0%{filter:brightness(1)}40%{filter:brightness(1.08)}100%{filter:brightness(1)}}
.sheetSep{height:1px;background:rgba(15,23,42,.10);margin:10px 0}

/* Small stepper (Kühltruhe) */
.qtyStepper{display:flex;align-items:center;gap:8px}
.stepBtn{
  width:44px;height:44px;border-radius:14px;
  border:1px solid rgba(15,23,42,.12);
  background:var(--muted);
  font-size:20px;line-height:1;cursor:pointer
}
.stepBtn:active{transform:scale(.99);background:rgba(15,23,42,.05)}
.stepVal{min-width:38px;text-align:center;font-weight:var(--wTitle);font-size:18px;color:var(--text)}

/* Kühltruhe page */
.freezerTop{display:flex;align-items:center;justify-content:space-between;gap:10px}
.freezerTitle{color:var(--text);text-decoration:none;font-weight:var(--wTitle)}
.freezerControls{display:flex;gap:10px;align-items:center;justify-content:space-between;flex-wrap:nowrap;margin-top:12px}
.freezerRemoveBtn{width:44px;min-width:44px;min-height:44px;display:inline-flex;align-items:center;justify-content:center;padding:0}
.freezerCount{padding:10px 12px;border-radius:14px;background:var(--muted);box-shadow:inset 0 0 0 1px rgba(15,23,42,.08);font-weight:var(--wSecondary)}

/* Cooking mode */
.cookOverlay{
  position: fixed; inset:0;
  background: rgba(8,10,14,.86);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  z-index: 5000;
  display:none;
  flex-direction: column;
  color:#fff;
}
.cookOverlay.open{display:flex}
.cookTop{
  padding: calc(10px + env(safe-area-inset-top)) 14px 10px 14px;
  display:flex;align-items:center;gap:10px;justify-content:space-between;
}
.cookTitle{font-weight:var(--wTitle);font-size:16px;opacity:.95;flex:1;text-align:center}
.cookPill{padding:8px 10px;border-radius:999px;background:rgba(255,255,255,.12);border:1px solid rgba(255,255,255,.16);font-size:12px;min-width:56px;text-align:center}
.cookTabs{display:flex;gap:8px;padding:0 14px 10px 14px}
.cookTab{flex:1;min-height:44px;border-radius:14px;border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.08);color:#fff;font-weight:var(--wSecondary);cursor:pointer}
.cookTab.active{background:rgba(255,255,255,.16);box-shadow:inset 0 0 0 1px rgba(255,255,255,.16)}
.cookBody{
  padding: 0 14px calc(14px + env(safe-area-inset-bottom)) 14px;
  flex: 1;
  overflow: auto;
  -webkit-overflow-scrolling: touch;
}
.cookStep{font-size:24px;line-height:1.35;font-weight:650;letter-spacing:.2px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);border-radius:18px;padding:18px;min-height:40vh}
.cookNav{display:flex;gap:10px;margin-top:12px}
.cookNavBtn{flex:1;min-height:50px;border-radius:16px;border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.08);color:#fff;font-weight:700;cursor:pointer}
.cookNavBtn.primary{background:rgba(46,125,223,.95);border-color:rgba(255,255,255,.18)}
.cookNavBtn:active{transform:scale(.99)}
.cookIngs{display:flex;flex-direction:column;gap:10px}
.cookIngRow{display:flex;align-items:flex-start;gap:10px;padding:14px;border-radius:16px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12)}
.cookChk{width:22px;height:22px;margin-top:2px}
.cookIngText{font-size:16px;line-height:1.35}


/* Recipe pages set their own bottom spacing via .recipeInnerCard and scroll-padding-bottom */

/* Apple Clean Glass */
:root{
  --glass-bg: rgba(255,255,255,.14);
  --glass-border: rgba(255,255,255,.28);
  --glass-shadow: 0 10px 30px rgba(0,0,0,.10), inset 0 1px 0 rgba(255,255,255,.35);
  --glass-radius: 24px;
}
.glass{
  position: relative;
  isolation: isolate;
  background: var(--glass-bg);
  backdrop-filter: blur(10px) saturate(160%);
  -webkit-backdrop-filter: blur(10px) saturate(160%);
  border: 1px solid var(--glass-border);
  border-radius: var(--glass-radius);
  box-shadow: var(--glass-shadow);
}
.glass::after{
  content:"";
  position:absolute;
  inset:0;
  border-radius: inherit;
  z-index:0;
  pointer-events:none;
  background: linear-gradient(135deg,
    rgba(255,255,255,.45) 0%,
    rgba(255,255,255,.12) 35%,
    rgba(255,255,255,0) 60%);
  opacity:.55;
}
.glass > *{ position: relative; z-index:1; }

/* Recipe page: make sections feel native + glassy */
.recipePage .card,
.recipePage .panel,
.recipePage .sectionCard{
  border-radius: var(--glass-radius);
}

.recipePage .card{
  background: var(--glass-bg);
  backdrop-filter: blur(10px) saturate(160%);
  -webkit-backdrop-filter: blur(10px) saturate(160%);
  border: 1px solid var(--glass-border);
  box-shadow: var(--glass-shadow);
}

.recipePage .kvRow .kv{
  background: rgba(255,255,255,.18);
  border: 1px solid rgba(255,255,255,.22);
  backdrop-filter: blur(10px) saturate(160%);
  -webkit-backdrop-filter: blur(10px) saturate(160%);
}

.recipePage .chip,
.recipePage .tag{
  background: rgba(255,255,255,.16);
  border: 1px solid rgba(255,255,255,.18);
  backdrop-filter: blur(10px) saturate(160%);
  -webkit-backdrop-filter: blur(10px) saturate(160%);
}

/* Ingredients list: flatter iOS list inside glass */
.recipePage .ingredients{
  background: rgba(255,255,255,.10);
  border: 1px solid rgba(255,255,255,.14);
  border-radius: 18px;
  overflow: hidden;
}
.recipePage .ingRow{
  background: inherit;
  border-bottom: 1px solid rgba(15,23,42,.06);
}
.recipePage .ingRow:last-child{ border-bottom:none; }

/* Stepper: crisp Apple-like */
.recipePage .portionStepper,
.recipePage .portionControl{
  background: rgba(255,255,255,.20);
  border: 1px solid rgba(255,255,255,.22);
  backdrop-filter: blur(10px) saturate(160%);
  -webkit-backdrop-filter: blur(10px) saturate(160%);
}
.recipePage .stepBtn{
  background: rgba(255,255,255,.65);
  border: 1px solid rgba(15,23,42,.08);
}

/* Buttons under steps: secondary, compact */
.recipePage .recipeNavActions a,
.recipePage .recipeNavActions button{
  height: 46px;
  border-radius: 16px;
  background: rgba(255,255,255,.16);
  border: 1px solid rgba(255,255,255,.20);
  backdrop-filter: blur(10px) saturate(160%);
  -webkit-backdrop-filter: blur(10px) saturate(160%);
  box-shadow: none;
}

/* Print: minimal, clean recipe output */
@page{ margin:16mm; }
@media print{
  /* App-UI ausblenden */
  .iosTopbar,
  .recipeTabbar,
  .tabbar,
  .sheetOverlay,
  .sheet,
  .cookOverlay{
    display:none !important;
  }

  /* Hintergründe/Glass/Shadows entfernen */
  body{ background:#fff !important; }
  body::before{ display:none !important; }

  .card{
    box-shadow:none !important;
    border:none !important;
  }

  .container{
    max-width:100% !important;
    padding:0 !important;
  }

  /* Umbrüche verbessern */
  h1,h2,h3{ break-after:avoid; }
  ul,ol,table,.listGroup{ break-inside:avoid; }

  /* Hero-Bild nicht zu hoch */
  .recipeHeroImg{ max-height:120mm !important; }

  /* Lesbarkeit */
  .recipeBody{ font-size:11.5pt; line-height:1.35; }
}


/* ------------------------------------------------------------
   Liquid Glass (global overrides)
   Applies "glass" look broadly without rewriting templates.
   ------------------------------------------------------------ */
:root{
  --glass-bg: rgba(255,255,255,.16);
  --glass-border: rgba(255,255,255,.34);
  --glass-shadow: 0 18px 50px rgba(0,0,0,.18);
  --glass-inset: inset 0 1px 0 rgba(255,255,255,.35);
  --glass-blur: 14px;
  --glass-sat: 140%;
  --glass-shine: .35;
}

/* Utility if you want to opt-in on specific elements */
.glass{
  position: relative;
  overflow: hidden;
  background: var(--glass-bg);
  border: 1px solid var(--glass-border);
  border-radius: var(--rCard);
  box-shadow: var(--glass-shadow), var(--glass-inset);
}
.glass::before{
  content:"";
  position:absolute;
  inset:0;
  background: linear-gradient(135deg,
    rgba(255,255,255,.70) 0%,
    rgba(255,255,255,.12) 42%,
    rgba(255,255,255,0) 72%
  );
  opacity: var(--glass-shine);
  pointer-events:none;
  z-index:0;
}
.glass::after{
  content:"";
  position:absolute;
  inset:-45%;
  background: radial-gradient(circle at 30% 20%,
    rgba(255,255,255,.85) 0%,
    rgba(255,255,255,.15) 35%,
    rgba(255,255,255,0) 60%
  );
  transform: rotate(12deg);
  opacity: calc(var(--glass-shine) * .9);
  filter: blur(12px);
  pointer-events:none;
  z-index:0;
}
.glass > *{ position: relative; z-index: 1; }

@supports (-webkit-backdrop-filter: blur(1px)) or (backdrop-filter: blur(1px)){
  .glass{
    -webkit-backdrop-filter: blur(var(--glass-blur)) saturate(var(--glass-sat));
    backdrop-filter: blur(var(--glass-blur)) saturate(var(--glass-sat));
  }
}

/* Make existing UI components glassy by default */
.card{
  position: relative;
  overflow: hidden;
  background: var(--glass-bg);
  border: 1px solid var(--glass-border);
  box-shadow: var(--glass-shadow), var(--glass-inset);
}
.card::before, .card::after{ pointer-events:none; }
.card::before{
  content:"";
  position:absolute;
  inset:0;
  background: linear-gradient(135deg,
    rgba(255,255,255,.70) 0%,
    rgba(255,255,255,.10) 42%,
    rgba(255,255,255,0) 72%
  );
  opacity: var(--glass-shine);
  z-index:0;
}
.card::after{
  content:"";
  position:absolute;
  inset:-45%;
  background: radial-gradient(circle at 30% 20%,
    rgba(255,255,255,.80) 0%,
    rgba(255,255,255,.14) 35%,
    rgba(255,255,255,0) 60%
  );
  transform: rotate(12deg);
  opacity: calc(var(--glass-shine) * .85);
  filter: blur(12px);
  z-index:0;
}
.card > *{ position: relative; z-index: 1; }

@supports (-webkit-backdrop-filter: blur(1px)) or (backdrop-filter: blur(1px)){
  .card{
    -webkit-backdrop-filter: blur(var(--glass-blur)) saturate(var(--glass-sat));
    backdrop-filter: blur(var(--glass-blur)) saturate(var(--glass-sat));
  }
}

/* Buttons */
.btn, .navIconBtn, .sheetRow{
  position: relative;
  overflow: hidden;
  background: rgba(255,255,255,.14);
  border: 1px solid rgba(255,255,255,.28);
  box-shadow: 0 14px 35px rgba(0,0,0,.12), inset 0 1px 0 rgba(255,255,255,.28);
}
.btn:active, .navIconBtn:active, .sheetRow:active{ transform: scale(.98); }
.btn.blue, .btn.green, .btn.red{ box-shadow: 0 16px 40px rgba(0,0,0,.14), inset 0 1px 0 rgba(255,255,255,.22); }

/* Inputs + ingredient rows */
.searchRow input, .ingRow, .chip{
  background: rgba(255,255,255,.14) !important;
  border: 1px solid rgba(255,255,255,.22) !important;
}

/* Topbar + tabbar: stronger blur, less opaque */
.iosTopbar, .tabbar{
  background: rgba(246,247,249,.55);
  border-color: rgba(255,255,255,.20);
  -webkit-backdrop-filter: blur(18px) saturate(160%);
  backdrop-filter: blur(18px) saturate(160%);
}

/* Bottom sheet */
.sheet{
  background: rgba(255,255,255,.72);
  -webkit-backdrop-filter: blur(18px) saturate(160%);
  backdrop-filter: blur(18px) saturate(160%);
  box-shadow: 0 -20px 60px rgba(0,0,0,.22);
}

/* Reduced transparency fallback */
@media (prefers-reduced-transparency: reduce){
  .glass, .card, .btn, .navIconBtn, .sheet, .sheetRow{
    -webkit-backdrop-filter: none !important;
    backdrop-filter: none !important;
  }
  .glass::before, .glass::after,
  .card::before, .card::after{ display:none !important; }
}

/* Background to make glass visible */
body{
  background:
    radial-gradient(circle at 18% 22%, rgba(147,121,114,.22) 0%, transparent 45%),
    radial-gradient(circle at 82% 18%, rgba(30,136,229,.18) 0%, transparent 42%),
    radial-gradient(circle at 42% 88%, rgba(34,197,94,.14) 0%, transparent 48%),
    linear-gradient(135deg, #f6f7f9 0%, #eef1f5 100%);
}


/* --- iPhone usability: tactile feedback --- */
.pressable{ -webkit-tap-highlight-color: transparent; transition: transform .12s ease, background .12s ease; }
.pressable:active{ transform: scale(.98); background: rgba(15,23,42,.05); }

/* Inset grouped lists (iOS settings-like) */
.listGroup{
  border-radius: 18px;
  overflow: hidden;
  border: 1px solid rgba(15,23,42,.10);
  background: rgba(255,255,255,.82);
}
.listRow{
  display:flex;align-items:center;gap:10px;
  padding: 12px 12px;
  min-height: 56px;
  background: inherit;
  border: none;
  margin: 0;
}
.listRow + .listRow{ border-top: 1px solid rgba(15,23,42,.08); }


/* Unified toggle list rows (ingredients + shopping) */
.uRow{
  display:flex;align-items:center;gap:10px;
  padding: 12px 12px;
  min-height: 56px;
  background: inherit;
  border: none;
  margin: 0;
}
.compactList .uRow{min-height:48px;padding:10px 12px}
.compactList .uLead{opacity:.45}
.listGroup .uRow + .uRow{ border-top: 1px solid rgba(15,23,42,.08); }


/* Unified toggle list */

.uLead{
  width: 28px;
  flex: 0 0 28px;
  display:flex;align-items:center;justify-content:center;
  opacity:.55;
  font-weight:800;
}
.uRow.checked .uLead{ opacity:1; }

.uMid{ min-width:0; flex:1; }
.uName{ font-weight: var(--wBody); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.uSub{ font-size: 13.5px; color: rgba(15,23,42,.62); margin-top:2px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

.uRight{ display:flex; align-items:center; gap:10px; flex:0 0 auto; }
.uQty{ font-weight: var(--wTitle); color: var(--text); white-space:nowrap; }

.uRow.checked .uName{ text-decoration: line-through; opacity:.65; }
.uRow.checked .uQty{ opacity:.55; }

/* Recipe ingredients checklist */
.ingCheckBtn{
  width:44px;height:44px;border-radius:14px;border:1px solid rgba(15,23,42,.10);
  background: rgba(255,255,255,.7);
  display:inline-flex;align-items:center;justify-content:center;
  font-weight:700;
}
.ingRow.checked .ingName{ text-decoration: line-through; opacity:.65; }
.ingRow.checked .ingQty{ opacity:.55; }

/* Sheet section label */
.sheetSectionLabel{
  font-size:12px;
  font-weight:700;
  color: var(--sub2);
  letter-spacing:.2px;
  padding: 10px 6px 6px 6px;
}

/* Shopping list: iPhone-friendly rows */
.shopRow{
  display:flex;align-items:center;gap:10px;
  padding:10px 10px;
  min-height:56px;
  border-radius: var(--rBtn);
  border:1px solid rgba(15,23,42,.10);
  background:#fff;
  margin:8px 0;
}
.shopCheckBtn{
  width:44px;height:44px;border-radius:14px;
  border:1px solid rgba(15,23,42,.10);
  background: rgba(255,255,255,.7);
  font-weight:800;
}
.shopLeft{ min-width:0; flex:1; }
.shopName{ font-weight: var(--wBody); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.shopSub{ font-size:12px; color: var(--sub2); margin-top:2px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.shopRight{ display:flex; align-items:center; gap:10px; }
.shopQty{ font-weight: var(--wTitle); white-space:nowrap; color: var(--text); }
.shopDelBtn{
  width:44px;height:44px;border-radius:14px;
  border:1px solid rgba(15,23,42,.10);
  background: rgba(255,255,255,.6);
}
.shopRow.checked .shopName{ text-decoration: line-through; opacity:.65; }
.shopRow.checked .shopQty{ opacity:.55; }

/* Shopping list as grouped list */
.listGroup .shopRow{
  margin:0;
  border:0;
  border-radius:0;
  background:transparent;
}
.listGroup .shopRow + .shopRow{ border-top: 1px solid rgba(15,23,42,.08); }

.uEmpty{padding:14px 12px;color:rgba(15,23,42,.62);font-size:14px;}


.container,
.appMain{
  background: transparent !important;
}


/* Home: small "Alle →" link in section header */
.homeSectionHead{ display:flex; align-items:center; justify-content:space-between; gap:12px; }
.homeAllLink{
  font-weight: 700;
  text-decoration: none;
  padding: 8px 10px;
  border-radius: 14px;
  color: inherit;
  opacity: .85;
}
.homeAllLink:active{ opacity: 1; }

/* Hide back button on Start (root) */
.layout-home #backBtn{
  visibility: hidden;
  pointer-events: none;
}


/* Favorite badge (only visible when recipe is favorited) */
.favBadge {
    position: absolute;
    top: 80px;
    right: 1px;
    width: 34px;
    height: 34px;
    border-radius: 999px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 800;
    font-size: 16px;
    background: rgba(255, 255, 255, .70);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    color: rgba(245, 158, 11, 1);
    opacity: 0;
    transform: scale(.95);
    transition: opacity .15s ease, transform .15s ease;
    pointer-events: none;
}
.favBadge.isFav{
  opacity: 1;
  transform: scale(1);
}

/* Avoid overlap with freezer chip on the right */
.freezerRow .favBadge{ right: 76px; top: auto }
.freezerCard .favBadge{ right: 76px; top: auto }

/* Horizontal scrollers: keep shadows from looking clipped */
.hScroll{
  overflow-x: auto;
  overflow-y: visible;
  padding-bottom: 32px;
}
.hScroll .recipeCard{
  box-shadow: 0 8px 18px rgba(15,23,42,.08);
}
/* --- FIX: Bottom Sheet muss im Body scrollen (iOS) --- */
.sheet{
  display:flex !important;
  flex-direction:column !important;
  overflow:hidden !important;                 /* nicht das Sheet scrollt */
  max-height: calc(100dvh - 16px) !important; /* iPhone-safe */
  padding-bottom: 0 !important;               /* padding gehört in .sheetBody */
}

.sheetHead{
  flex: 0 0 auto !important;
}

.sheetBody{
  flex: 1 1 auto !important;
  min-height: 0 !important;                   /* wichtig für iOS Flex-Scroll */
  overflow-y: auto !important;
  -webkit-overflow-scrolling: touch !important;
  padding: 10px 14px calc(18px + env(safe-area-inset-bottom, 0px)) 14px !important;
}

/* --- FIX: Cooking Mode scrollt im Inhalt (iOS) --- */
.cookOverlay{
  overflow:hidden !important;                 /* Overlay selbst nicht scrollen */
}

.cookBody{
  min-height: 0 !important;                   /* iOS Flex-Scroll Fix */
  overflow-y: auto !important;
  -webkit-overflow-scrolling: touch !important;
  padding-bottom: calc(16px + env(safe-area-inset-bottom, 0px)) !important;
}
